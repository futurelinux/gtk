pkgname=firefox-i18n
pkgver=68.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Kaqchikel (Guatemala)"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-CA  "English (Canadian)"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'ia     "Interlingua"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mk     "Macedonian"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'my     "Burmese"'
  'nb-NO  "Norwegian (Bokml)"'
  'ne-NP  "Nepali"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'oc     "Occitan (lengadocian"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'ur     "Urdu"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

source=()
_url=https://download-installer.cdn.mozilla.net/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_firefox-i18n() {
  pkgdesc="Transition package to split build"
  depends=("firefox>=${pkgver}" "firefox-langpack>=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Firefox"
  provides=("firefox-langpack=${pkgver}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

sha256sums=('637354d6e8c74b685d95d083c84c8b95fd49c49842815041531dcab93603cca6'
            '8e672c68f9f1c890a85aa26b7a23a130758ae8b9a67cf1cd0df765d02a5502e9'
            '1ac22b716494d4ab591e165e059a656d99c9701fa1bee94b5c43231b012fe9ae'
            'ac07d7066c1c9927ac4ac82a437cd01c4d550a7ecf7fa4563007e8c6a6dceee3'
            '3e22851392eff404f7ee8b07847fc2ee6311434c4dc02867131307ee30da89cd'
            'a086d5cfb914e71beee363220df03ebec973514de18c6c79bb6992e263686c8a'
            'f5c8fdd81660dd1174888b3a99253ffe03a3946dceaaa6518edcd13b55a76dc4'
            'c809164fd74fba0af01515da7c370e217523d42521e78468362355672675c3f1'
            '3440a77e3a1da67e60ab72cd6ca92c53c6e48f5066933dd76f8ba3d67a2c3281'
            '71b62cd416a3b30c570daadfca4b53d256c10d970c0eaf527225584c8e0370bc'
            'bcbd764aab2a90b1e4936df0ebbaa2c71518ced0f0f94e50c1b3ffe53563d84c'
            '4277057e6aa769348333314e364bbcdcad193f169c705d22331a7af68b8dc603'
            '44ad10e6cd2ca84bfb5a8fc8804cf1c60a62c38b4cf664ff4db0406454ebdcb6'
            '30ed477d305dabc360337d85f6cdfe666a7349bbe2f685858341f36df50068a2'
            'f4327f5ceff171a05f4af21a96e35e9873c1d4af0620a5de652197f052b4cd66'
            '20adb71014c66752996c827343dc681ecf20867c2afeef59f656634fb1ecb5a0'
            '32d5ad23fb7e0126af0bba6d7187fe7d5e6fcdfda43d543352597c156247d8b9'
            '4e221911898a9d92425ef4b126f610ab8e762e00e87aa01ffca0fabf00fb344b'
            '72e8c61507f4a8295b5ddac201c855e0801ecb53c0970e9956c12f7c0aa2e6ab'
            'a5488d527b4269484f37847cd72e5a4235386fe2adeb6f070892d34874e5d0d5'
            'd7ebf8481081058b778704a6596189b527f7d2576f11e441860215fcfb2b694d'
            '2974210268dd75ec7b57a21a100ceb3e78a63af15cd8f5cf22efa596bea195c8'
            '826a13d6ae38e3df5d7fc7724c7097f7d098a80cb9e085fa132f6b1b855aa8d4'
            '71ae763ac6362029eced7f2cbacc5d6f0348a46cce11c62d8af82d00ba7ae0d0'
            '9069b88eff81d26e4adb76a54d9b717d0046624052910eef038ad54c3fee4bd6'
            'bdea7eb294a346d8104794b2ef9ec1ab1a700d02cda509f3d930201ef7d9c169'
            'd6cebc38739acfee225c1cbe671c6bf30dc84910623aef3ba952c78785b8ff79'
            '80f5d6db6268ca83db34acfebc4ae0e0b2a4c5784a08be48c64f9f3d6b509544'
            'bcf8837b88c417976559a934fdf6eab4621c966e316c163a4ad9543f9c449eef'
            '2deff2db4142167c1b95ee21b0d6ff348968d5f8f31a2205a0d70e40f9e76663'
            '27494451a368289dfa498fe628c642653a7b1f00a8d809bd14869c9d4db62780'
            '3ea74cb1420ed62e76e5762b130764ffb8c8d126f509337010e37ea1e2ee4919'
            'b3989e1d3f1cabb7b437162f58cbe0cc7810293bee298c568851b58007225a72'
            'd1aa6f71047842e43566b94a5cc4a1a2622966cbaa6ddb9b668476ee74e315e1'
            '307639c0f22796cde5c398eba86cb0d476e73e7c63917cee450a4103bf7f699e'
            'ab3a84108c6c004e9c82c22ef015e577edf72e4cb758aaab0a45a13c1407fd9d'
            '3c32310db01379831fe0b1556fdc64687ea515ef0cc338eccc0521069074c936'
            'e065395676108cb4a651e5ce2e1fe4fa765d757d69010036fec5e1858023b872'
            'f0a13c12923595d8c5315037312fee79c1c0a5110e14ca825336e1f5bf62ddca'
            '35b45d656878d790cfce1e5278d063520a108caea20137f591145e4312d8f89a'
            '68e58e9754b7869d889f91ed8f8f97d8805b1cd4b8dcd5868e79d6f7b7ea6991'
            'e6fea26cd209e186439b5d942fa4000789f0e8ee6e7969bbbba67f98faf1c1ff'
            'c761fb4f5b23cd483552877281e994e19436c7abdde772883b1318fff957deb8'
            '0ae81e19ff3d6365af72e46167a3a60989ba4e08421e5435e6161c5cba39bf5a'
            'aa711a81cc2d8199d990d7ddca16c1ab37a56830cfa364bb7540c265e781a911'
            'b6cdeac21a6a60b2dbe0e82c24c9d13e6a399266489076569b6eb1dc3c566406'
            '2c447841bc006d70e2242bd27fbff68156d33c6600e9e465813526e7458dc020'
            '2de3a4b48ed3cc993eb793525e1560bd894da5d54409c9f10f83618f6226ed93'
            'd63d1e5e24cba2292a1504fd5dca8374f11bab85526807ad77593761d6b7f81e'
            '478db25f882bd3f920d0ce81d5c12bd499549209582e93164c81f7ef434a2dd6'
            'b280264d3f753a63ea7bfd9622c82d1b00054635b337922a5b33cc74094f5f81'
            '307adababf77fd59f8a37b63f6c398408f8fa943e4aba4a3257d32f908e8ca78'
            '7c38ce8769995e3bf5b850ec92b9ec4368ef7c45aadd0d75ac0b18d55b1489f3'
            '4f3208fb690c57cee3e616c99c3b0d91979ea6a0d36f7e99099441af249c84f5'
            '852c25a72bd6a5f0372e8f421f7dd962953c178da71bac1ebe9715791cf9c583'
            'c15899fdbdb8612ede950ca5b781d090f5f9a7cab409455461fdf69150f2f8a3'
            'a9c9f69069de9ab5e470ee2595f12d56f5c6fa86f9abb69551285fdc25f139b0'
            '4645a4607a460e886941846e506214ea5eb95c0409903e2405ba39aec867c2a3'
            '7e523fee449bf359a91cc5df6bc9547ffca59b57ea62c9afc1b9810a52883f35'
            '751386c723f8621b2a2d80a7bbb92838a48a88523a829b233f3ed4eb37416f86'
            'd4f031a734e483cc6d82be00076451f8138b38120a6294446d931edd93c3e736'
            '3c913cb7b316c1fef84cf285e6559f5ab0efdf2e8f2145d9a331f8d23542d6a9'
            'e031ef43855bba8e0d61aa083486d23461383e6317ec1eb427efd96ba52e2cc0'
            '5aad4f755503dfcff79ff7bc6426c922c7cfb6e7ed6012c8afa1d56919bf574d'
            '548c066977763bd63f7c2c785a49d1528e76b4c55f663ffee282a0ce1fd8bb08'
            'e2927fb6611f82bc76d4fdc2aa37573f769ca21459fbe433bd695df567c6ec7c'
            '9e72558263461bd5da62c0c292e3ce2fe0f0ce9a7fbb128285253cc1f5f44d53'
            '2c8af1b518a1ab9470a2a8a6b2728a107ae92043dfe63a0bfbfb1423e11561b4'
            '772c0e432e5e2a07ce0f7f150a0e999e291490e1c8b1d7a47085c231e1bfb551'
            'cb144fe7128393e757eb0e89fbfa1a64a98d75645563ef23538c81ea2395c54b'
            'b1fc0e8abe44a489728a5d35a7e30b2c189b3afee57ccf1ca3d457863bcaf613'
            '3672383cd1054cbc082c7b2ea423461af6088f80784b72ab0c961f648dcb6046'
            'd13c1b0ffb1325352b0abd42dba05d3932814dcbbf01049d8e3e96c35ca4cecc'
            '5197f27b5f1a6fda42dfdd23ab26e7852e6055d949b3421a604107f07d9ffab3'
            'a931a967980d2c85436a24035eb2da0de6996fcfcf2013b1b2c7481a5e3de81b'
            'bf136d69e10bb4300753e1bde4a4287837ab1576669c51f679bf37d8de4961e6'
            'c265e73b9bc51156e04f69073d10dd4ea82f70bdfbd4d1246648a4158f9887f9'
            '840fc9402492c653f07709d04ffe8e33b96e6c7a8873fe14ec6d382f9650769c'
            'c0e795d692d62262a8e300e2ae573873b21538d79a9ad0bb3fd5c12486e12cef'
            'fa1ce8c4e3c8d0c25817766e9eb1897a055d032d4a6b69b9bf83a07d1d9234ac'
            'c3bbcd6f00dfe6e8c086489a03797366dcddca55326269d32239f5a1a5466836'
            '638fa687bd1f367b88a983c66a3644cbef2d86608bb17cf8a71f1fa149156138'
            '1098aeed113c1050e1ba6b42ae22fb547912a8fd864b56ba44e561a60ea19203'
            '7dcb700b1bf6ae29a2c76362337bd5b34f8951b5fbcd5316e892c81e5434092d'
            'd4deb3fc82619bf21f5e30fa488724da3ac17d0b3002661f95345a4fdfa5342c'
            '7121d04c37484902cd0c68a7fd2c68af25b43d5a71872cff65e408845029885c'
            '91158afd462f73c142b86a19c338f6d26fd68104fbd9f14f16c1117142cab7c0'
            'd02e0982655a560b547629a9635abb0e491163ea7eb443d454f9e09ff0a05904'
            '0bfe3a70d2b393973eb5c097191a38ecfe57cdd61000dc5b1d01acc8ac700604'
            'b4824070be3c764c0e1be0baea8baf5cc4700732bdf4f7a5f946f81227caceea'
            '3f8ec0fb6428fcf7eeba212165e4c5d4d61b865e3e26780e2a893704e1a169d8'
            '093fe238df44efe1491c952454142222662c4c58ea953d558d7a3b344ead0799')
