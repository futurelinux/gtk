pkgname=firefox-i18n
pkgver=66.0.5
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-CA  "English (Canadian)"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'my     "Burmese"'
  'nb-NO  "Norwegian (BokmÃ¥l)"'
  'ne-NP  "Nepali"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=('firefox-i18n')
source=()
_url=https://download-installer.cdn.mozilla.net/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_firefox-i18n() {
  pkgdesc="Transition package to split build"
  depends=("firefox>=${pkgver}" "firefox-langpack>=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Firefox"
  provides=("firefox-langpack=${pkgver}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

sha256sums=('db4a40d92d75179c39fb97db4933534469384e644cb701884a4017e382624342'
            '37dc46ffc241c5f35137a524ff716b0c059d5e82fee47031848786690b8bebc0'
            '486e7ed47e57a07071c5d418c7a1b75c07d1e75107b9dd5ac6fa9f0639408263'
            '9511e144c2f838d7687d18c46fea470a4edf3ff76cee700645e7d46e2aa7590f'
            'aa0b8025902ce8894692bc4a9e78440291065240b9f1fc4774f79910ef3270ac'
            '18abd7b91230732526b72006142233400600cd85b0f73739a30f8d3de04bca53'
            '721cd00074359d55c938e3080ef1bd4b1842ce6ac556b80c00a6da2325fecbe0'
            '76bd58398feca4b0d70a5f2cc8afc102c26920cb592330a6658a199944c79672'
            'e815b71d5037af7d84c8c8afea997ca13d58feace2333c58255f94cfd0d36beb'
            '61dfb8aba135eed474cf1ff39bdca5e4e15def0bb50ee211b534d29da372b802'
            '77d02139ec96feac2b29d702422c279c5c2e4b7340d609707fe51fa2177b3dca'
            '1da70bbc146f15e5a6f47316057a5534f55185bd28a3c2529641239df9823957'
            '3fda51e9022d97bd160e2e78efe2463502f25f4fb410d30a5512a8489ef87cce'
            '8ee2b0362b5ea2251f10f4e04721b9dae4dc03dc2491f78f5c33a834b37b66b5'
            '76a8c80178a2ada7ea42768ead813ec322135510f353e848c0d268545b0d0c94'
            'bcc0bdf33bb01b28fc7df02dd590ea374e993fd2a067cfe78d7926f90539eeca'
            '1559bde75b8f2b8bd216103d301edd7e2232a948542e15e877b549da39d6fdeb'
            '58df2596dab262aadb5e361080951360ea6d4392e83429ab8b2ea4e2e6f5d877'
            'd3b4b79e33973e5c607690dba7200771d49f1bbf57f10634505fac8942f07a6d'
            '0683038f95f3ff4684d7d169f6c6470c48ecfe7902410f3f8d009ba85ec60e0e'
            'eb46501148efb61dbbff84448964df04eeff2563000125782a7d8f715eb39991'
            '2c8229929de6b662f7214910b00013111dafc209587d829eac7eafdddb3bfedf'
            'cb4e7ab93a8346e6ede8fa85000ff7ccd7d6e5356e678e45d53df9258dca5f8f'
            '17b5b84030c5f53d8960e1e4630414f7fab47d773f2f110b86c5e6570a0b23d3'
            'f4cc92d2f19734af5802b682a86e971f7da96033494b25ffa302fddd6da6cc36'
            '776600a10b74e38ec5586e19be951a35ea9d9746031d9b1b4c7f293af013ada7'
            'f0a67e9c480d5627829a6cc363dd745173d9e38f190f8a3fb8a451efd3cc3d91'
            '38f43b6d9e0051cbc1bb80fc1c19fb5c38c57bfe4cf0b88bc88241dfeded3241'
            '2919346e6782b5f75dc279c01cedebcd83cef026e301ecf1c50e1de016daf6f3'
            'd28405cda454d4695ea019ae771f3590cf52a745f7fe4be2fcd8f9962510ab8d'
            '821c6ac22cb71bbd9d5a1e2c8602562968042e4db73afd05ec521c4ea6408ef7'
            'feef6b4ae6ca0ae7d1194dcb85a9925964e78210e3bfee525d0abb6d47099054'
            '9361b18792476f27b004a1b35814e124fe3a93caaf3f5fd9f3b62fca16d449f1'
            'd455f83084319388efb61a09730d7df968400ff096194341ae06673d863c2202'
            '84b094e6a381ddadf995b862252988f73c6c1a7cc3fbb9313d97cb7851d037df'
            'ded4ee6550c702798fd624463d5f3d18cc685fac51c8baab15f7e8887cb214bf'
            'b7cb10aac3247a94e874e633bbed1934d2ebd439e0f2e72bfe757d471fbc72ca'
            '196b4596e3f4f208a603cc73b137390b0ac951ff9f1dd007fade936e3395fe1b'
            '780cdcf32fdbcfea397036382093112017fa35f111f178f81bffbce03937443d'
            '7bae787b9800f6035ed43b54486d870f2a37cbba16ca717fb1ddfd059d5d8128'
            'b2349b90f5b167f673fb47410f957a6f5e2513b626d9b5a9d976cc079e762ada'
            'd6e3ac324ebbb949cfec821e393ff582cb5784aa2c5b5f61e2ce484a83458eed'
            '5977002d34a1f46a65d21076f79e1039e69d5abbfda4dd8def0731b3ad59ff6d'
            '708d7bfd6e73cfd9884a0fb1bd939bdec5512c3c2837a5d063c8cdda96a0c54d'
            '3614244feffe69671ebc00a632e4efa75b6e68b66864157fead02d66672d6377'
            '68e1dffc3aad8724f6a3254959924d5f7ac2e3fc6a4da85947b9701f2b3350fa'
            '6a1faaa9175e255553c9833afd6b80efcd1fdb6626c5791b193bbb5a70dbee75'
            '04e797eeae5dab8669e388cabe2a7f4c442fb4f7f806f26c9fb8a3f93273ea3b'
            '0382a29f29f6a63fbd265e633b2af88af585da4aad7f4e182f4441b9ff857a92'
            'e4a9da9dc4f30d0fb883d3cf68236efb0e7c3c7393b8d8aa1e20ed20c7f1a52d'
            '8450684bb87a5cadf3d0c00d202aab6c19b7d7ae113e9d58e3c52ffa312289fb'
            '473c619d45df319e11636e5994639c179a1e7f82e8af089e247e791c625aa8ca'
            '0226836a8a6f83ea7646d2b7726fd6e4b9e5a4b7a13192ca69a78e33ddd87440'
            '83d574fd5935981ac3c304cc1a08ed1e41e4bb10b19d947b7198b5ba454c0c35'
            '38a3b52c6b5152f366c849f850caff154601d58b13982072b7134aaea5d45cda'
            'f06e4d460d3352c48c3a458161c54b5de6e22aa414f10462280288dbc4d3053c'
            'd38e389c29ed210cb6b209c6b4fe0607f4d71d4152fdded01e5e733711622a82'
            '68c2865915c8a8121ca50f6a58dc6199e4e3feacf2f5caf26ca7b8b2990e64f3'
            '078b54e4312ba7415e9ed3fee1dd78d7a4b82b22fd5814af803295785cdbe3f3'
            'd9e42106c52e365001baa3061583f4285529d2219cb496861fbce8b2ea38eccf'
            'd49231619bbdaf8479d2c3560f075fc54b5ae19caff43f51ac8b0300e71d7e3d'
            '900d6bb3b148a52eb426b80028e59b47fbef720da2bcf89071aee610a8ab322d'
            'b120cc27a2086bc5d2db901b834ce5c9da2dfe95fb1704c282b21feb16492e2d'
            '4a0ec0f98ab3a5997fc1ceabd76929b8b0853079fcb9fdc766df131cf53bbe9f'
            'f893a72dc109e0ab3ade6ef68cd304d6594b7b4dca4d6c0cfeec298a9271d5a0'
            '1b7338caa2e56f568ba15c0c2d023b27cf0e5bedc42b9e635be646937a06e1b4'
            '91207831df77c8f8a59cc05f88c5ce2ccfa4faa672d7ac7e1aad970a672c5163'
            '895f5c9015edb19dc7a13e7d8157f84520cef6b6642c88c775db7c020c2bab42'
            '0d957bc53f00419e62c47c8cc08e00433066d614aeca443c6be65e5903a6f104'
            'ecd02f80ec0dc857e811aa02d36120da0ee1fd13eb51b03d2a9839d455e62d88'
            '492d598f1352da4dea656f220c730b21e04d3644f2d6e34ef599cff98fda120e'
            '1683fc47b5790ae202c2c0318b06688803e482bbe848cb2dbcdf209b9ff14ccb'
            '513e70344558140d5fbfc499fa5515b52e06616a105cbdf231067773fad11ceb'
            '4befaab15292d8820c4f7ed773efe3b501ddd042c60542ab663d07bc0187b145'
            '98a5ea70681ef7d3056240c6f003a3a566fd81d9e5651582d39a082d4f794bde'
            '4d49c3dd3ed7ed7a96fda19c588ae8ba634c6e403f207b5cd801758b2b1080f9'
            '81b412ab34265fe36bbd88c3d11c88c18c5ccc26571d31250e44ccbe7d75ccc6'
            '346f9edaef2c9269ddac1ebe93fdfa74a5a3d63641d00aa3d2ed4d0a5cf7f83f'
            '519a667794a6d4bd78e8f8494d8b802e25ae0747e6e3e32b066d7ff875d8d825'
            '66d439e7141d847ddb11b65885a42cd2854fa1be2d9da7f66f8af14c7b9e4412'
            '30a3319f9c4de4ded33661c7485215b663ab00c2696de160259fc8c306d83678'
            'b6e063663bcc425d300aa5937421b996473ae133b8e07f84ce8017a3806b3370'
            '9353a000954efa57e9c2b7e7f3751bbbaff5a58bed64cbbad0766062f53f5f25'
            'c73bc2436f9495c71bacd647a6092160c0d0dc6ad039ea01ec1bc024871be08d'
            '6edfc4ee319763b8db8fa4ab2103105063ae90b1ec246fed7d5fbfd8209caf67'
            '6083f392be12a00c1c4a32450414a49b0f370c2be19ddaade4a14c91ce63479c'
            '6a5f7585dac5fb021aab3b19e5ef7729ee6d683d4bd0c1be3888067eecef8122'
            'e9f20b5395ef8f96e3a1aa0292b1cb8bad9f64c987f270daad08ded2c1c43629'
            'f7a6c367656a322c5d59e1308d231eb43d3ebb48063af56212cfb81b48fc9377'
            '5df8741b35e6abaef3c2da6c389a9f6b99b2e96ed773a6b6483e8d16a00dc2c7'
            'bb66c612310aab618cfe1f42fb3eb2d704414409351ccb0fc204db89ad5fe47c'
            '573a0cfa67803e7906e61cc28aa242f42c9cebd505560581c8c228520b59738b'
            '367ae95a5ff7931f494a111f0590c66524c80f5156a6457b8b065b6b88433c4a'
            '4eb57c7a75bd32df7cb8e6cddc91474d24fe39ef1f54dd8345db78cc68891e01')
