pkgname=firefox-i18n
pkgver=68.0.1
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('x86_64')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'bg     "Bulgarian"'
  'bn     "Bengali"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Kaqchikel (Guatemala)"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-CA  "English (Canadian)"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'ia     "Interlingua"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'ka     "Georgian"'
  'kab    "Kabyle"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mk     "Macedonian"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'my     "Burmese"'
  'nb-NO  "Norwegian (Bokml)"'
  'ne-NP  "Nepali"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'oc     "Occitan (lengadocian"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'ur     "Urdu"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

source=()
_url=https://download-installer.cdn.mozilla.net/pub/firefox/releases/${pkgver}/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

package_firefox-i18n() {
  pkgdesc="Transition package to split build"
  depends=("firefox>=${pkgver}" "firefox-langpack>=${pkgver}")
}

_package() {
  pkgdesc="$2 language pack for Firefox"
  provides=("firefox-langpack=${pkgver}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

sha256sums=('aa807fd6d245921ef10ce3613e3f3e9691476495b5eac1a0cf2faf04575fae1a'
            '6bf1d3969a8e99cf026034512e825a9490875ff9d005186ac5f675113e591ad8'
            '0f76936fcb3b5b191fdafa670a77ec78d26cf83e814681b2a8a7a8619c831f06'
            'e67ff81f88177eaa5c2314c18658e5891fec34e1f3c68b878a7517d06aecfec6'
            '5ef7145e800f33d67ad98c98f8815631396faee20059e13e7b7155d036f34a86'
            'd5f5db9fd65803d15e24eb008f8b7bdb5942736954088f5b3d95b7f333db1973'
            'c23aa36f1d1cd4b19e677b0e7c7ed7691073060b67b56455c8af226e6f8b6edd'
            '264fe2984a2fd405d42833122c10cc64b1b25a6e496d6c0a9f7836542e6b9732'
            'de1bbbc5e3ebc13bc7dad08cf701321b96610a89babc6760e4a2e491cdc049eb'
            'c5bb3c6c58c218747aa3a0229460496e1fb99abde8a6c03ef7b3b043863301e1'
            '6d8b248538f2e5d2da8046aec60dced3250cb1aeb668a8048198bdfeb7ca29bc'
            'f55e2544d828d44d5d927fbf8fd39b31fdc8cd543ac91fc115915464d563b3c3'
            'f21d487aa6f9e71f5df5755c03753d9c84a5e7ef295e0f63b5fe8360696773bd'
            'b76aa5a739e8c50b1650cfc7b02e8fa7eab8569727c6930bdce2fb9716da2e27'
            '6dc660b2c242097cacef59f3aa5841e7c0df1d444181933fa744e4de4db7846d'
            'ad7fada65c0311724ff08886f21ddf7a52708654783846cef56af8a9b675344d'
            'a4acc2793f6802b237368c8a389e9b331f0c488386eb27e24727a2f8d5e3ca9c'
            '9e9fc4eccdebdcdc2ec1b0497a5652be1603c24fa8dfd54885707186085dc542'
            'dda5029db06445711269e3a15e9d941b1230fca3c1e9a05358ad0a791d981ac6'
            '76aad0e9a95b1b2ec4c46ecfa7a0c4684c3a3c6317e4d1838bf0d61e3ef78471'
            '9416bd3e3d775dc4321b737aa90b63a04c0c06485c0d5f6dac4f7f80766a2e28'
            '5201d7029d285997e6682254ca5c3287d6a7e8b2db338ee91440a376d0148680'
            '1bb45f2d0282f928d321448fdc5fcf02087b8c973f6b261a9149070eb8cc7fc8'
            '051d054443d012a660e5b4fd246e0a0ffb3db683a6f41dca060484133b2e89b3'
            '560cba2f2e062f3aabe8cf3207b025c6a2463289308f76600105847a067b0ad2'
            '65f02fe5bd38c9c0410cd2187066db6a9fb78efe14b2ff637b18916aa714a02c'
            '594cc5e342f94a799dc75c20a632d22899aa2e3ba7d8ca1384f7f202bc123d92'
            'e184b78004c59a9195b8c69cdd6a6df76a9e81694228bef47388ef7764d8b46d'
            '089c70b7526595bf41ad937bf59a6fa0e818d529c20008f50c8553b4690ea2cf'
            '6e07d27b26ffedf828a35962d1d8a78c4a0cadc32e5a63f24a83f717a0941a9f'
            'f540ca08966e754ca59f207030ca24c968b937ceb6db0e47c8527478e1ca607a'
            'b9e73e45e450bab84d0684e48b9a0870c89b0dabc893c9c4306b8db0533c23d8'
            'dbf6f1d830febb2c5b67b10b6f65693035ae6fc325bfddd56c6497f5132afb31'
            'f789b7f74372fb6e8db767e603717f36c246bf83a66b33eccefbab6d8f73e931'
            '021e5c9f6581c3da5794a1939f36cd7df9a9684e7b2d5fb30da629a6f845bdf7'
            '99f8efbb10271d8e6926f90f1dd76568e031d70130dc7ef2b5f4d2c49fb5566f'
            '2e2a7b7214bc56d408aceffb6a6f1b9bec9e646170d7d7b7d847fd2c39cafb8b'
            'bad42cc7bb9f199aeccd39589232ffd056446de3380be19062809a82a1915d8e'
            '7099428e50e427018d4ee81010d6b74533e72bf5236f5ad3d00a9cb1c71e112b'
            'd05c817dcd9d2bc02b92afe4858c5b33fe4b35523232aeca10a060b7effc63a3'
            'fddcf02e69ac926f6c5324b5be293a9cb2932d0a8c0e92c2655e0b52cdc9e3b8'
            '7b849dc5ebaa7aa7851d91f2ba9d39e17803cddce3a6552549593000a2d22754'
            '89245652282b2120e18eb46e41957725e3c0962a85698e3f4661bf2264a07fa5'
            'eaf12171c6804cb36c09e4bcf4c6ee2d9034027dbffad5833222e207108e2e4f'
            'ed2ea80c0f596b7564edd1502b6037be60178abb30dd6122faf19deb67d6a860'
            '6be0d8197cf9f91c3f33cd8d552542bb887e83c0496b4ee851cbb67dac2f4048'
            '54311ff2215799f9a95d82426ad606de71c6a09cfb8c0227c2734c841956dc9b'
            '090b0b546d1424cc5c8fe2ba00627a6dc611ddfb450ab8594370ebe241f24430'
            'f4930ac12e35416260556ac620dded3ed9291760e94512450b50544c7a024c62'
            '2ab3106d0f771b7a228e8f415c90ddd32144a537055479e2fc0912308544fda0'
            '292f967f7895c7fae153623752222e0531795e243d8e2ed03637ab589e69ac91'
            '7e4501ea16ef73714406edc66277b7c0224e8f913e672fc955225dd6ec05e11c'
            '2a8e90674dbbe2263158d1278374c41db25ed7cc424b59ec1ae2b4d7b3619b16'
            'dfe8d315b3945c3b269f8e35f9492a22c8a3aefd51d78c815a7476210cf3c8c5'
            '2965878d9ec77478c873da99a2d6c0d6e1b81781db8cd91c887511a4e04bd87e'
            'cdf62404ace84a1a47a9b11378b084f010d443822cf6ee20fb52ed5924505495'
            'b4ab9cf8d9867c1a6fcb6656ef3be9b145170358167046f9432bc27e35ed2584'
            '79d9b36238e1f172badd287a6484e98f95ee89e2ce58e71bcbc979b09acd97d6'
            'dd1aa857b1303f3db0f3bd2cb5e012a405de6b87c0508b0a3a4799311f17ff87'
            '28705590d45f03231fd7639b624d4e967409d0f4ccb7cf844cddc8a801d202ba'
            '79c99448cbf9f9b637969c39211c2e10627f2682154d0462d98629d6fc162e5a'
            'bed662382d94c6fe94e0e93cdce87bbf3236f1e0f61d1e1f4b1394aa29ec8060'
            '0de966f2287353791c75245017fa74275b7a6bef822be31a8fc2ff10aa04c640'
            '797aae26a88339a958974772127592d1dea1d61be7ecd85408acbaa374ed6cc6'
            '3d359c634d697b2542277805328c921b9e8fdc9fdee5b8cbccbee9703bf03d4c'
            '81d7ab686a5d4ef3af7a75fe575be2b91afb288854e207b19f54415dbb057c35'
            'b0315df7b326f81cb7a78b8dd9a743fc93340345888e62f40456f382f7774c7e'
            '14126c3a0a2122a6ba8a1f5d4ca207ce74f08e1eec0138b3d14903553b50e184'
            '7b2c284b6ec26d8c604a9649437d5debf8279fe7ce6c6c7f2d59fca20555c580'
            'c3714c49cd14285b62a221acfab97a5407524cbff979b9e296c4eefbe1bd5de6'
            'f72c9d9e8cdbc3cdc00d3924b7a2f6a24d17fb96292d50e494cd6d7bfb1f1cf1'
            '351a61892b69c94d5d05881e9912248db6ab49bef0ed2bec9a62bbaf333c1df6'
            'c3866d72ec2585873734fd597460ae20fcd8aa0a3661799af1f81e019a4ce654'
            '5aa0080e1f4950e0f84583c04e14e4879994220fe4901454e8fbb6d9cf1288ae'
            '76ec67ed755319ae0226593d30659019a2c704031b45a27faf66f6e287f7fb65'
            'a125f4ad350cc194dade94338131feedb5a5b6371d81744c312030c507d3ed37'
            '06ee5ea3992b2d0164f51cd3aa8c4d45b6514faa4d90b162d74107e71a5aaa9e'
            '761f245f5dd6db207166efec8fc01466bdc96d93e15f74bc1dfd99d82d25ae79'
            'a354a74c1c103e95f75602dd1253be2b4661f3d13971950af2b9e6d11a0da6e0'
            'c9a423a5aa70ea7e9b489d27bfb91cffbeb07199d7920cd70ac25a37d3f1bac2'
            '02e708a4f0ab0643eb1c6bef4103236aa36f26cb1ef284fbe2b53cc5c4e3ea77'
            '9271393e26f5736dc22610fde9e6a84c5fc82350587b3da8891eae26c2f38f15'
            '6695951d1dbcb6848130e83fe6c59e84d7f5893dd52c2d40f70ecee0338a5494'
            '5946b78e312bde6e97b48d5b262813ba9d150fd799d049236bc28012f3d79957'
            'fc5a1c9ecebab552e77a8c0f5e08d091e48537c7197f3d6c0fee94e781c5808f'
            '7cc8f318fc26071c3cbeab51866c087864e86ba67512e86658a4dbf84fbe0f54'
            'acfb0987f2b84fcb22648e9076d34b971ab7f8ff98e25237795c7353190ede6a'
            'd3c27a3a1e2962e675d4994d22ea3d3dcf2653cb4b2e1a7adc2bd2c032d1dee2'
            'dc37ec262daeb83bf29cb28965bed29c32d8d34bf87afb36c16efb08e680369c'
            '73423354a0c2f3c37cab96a3489f9b7d2e4b91770c7819d18c7fa16ec0144379'
            'edbac958678db02cb2c32fb5db887b0eb22bd24570058da07fdca78ee570f4e6'
            '1b1c4080334efe9ebbd7d1ed7c6ee3d977d3564768b424722f93c1c7ad3fcd9b')
